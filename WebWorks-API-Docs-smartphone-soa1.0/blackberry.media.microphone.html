<!--
* Copyright 2010-2011 Research In Motion Limited.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.-->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- ============================== header ================================= -->    
<html> 
    <head> 
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
        
            <title>Microphone</title>
        
        
        <style type="text/css">
            .apiColumn {
                width: 200px;
            }
            
            .apiTable {
                margin: 5px;
                border-collapse: collapse;
            }
            
            .apiYes {
                background-color: #95B9C7;
                color:#FAF8CC;
                text-align:center;
            }
            
            .apiNo {
                background-color: #FAF8CC;
                text-align:center;
            }
            
            .apiTh {
                border-width: 1px;
                border-style: solid;
                border-color: #ccc;
                padding: 5px;
                background-color: #f0f0f0;
                text-align: left;
                vertical-align: top;
            }
            
            .apiTd {
                border-width: 1px;
                border-style: solid;
                border-color: #ccc;
                padding: 5px;
                vertical-align: top;
            }
            
            .apiProperty {
                padding-left: 20px;
            }
            
            .elemTh {
                text-align: left;
                vertical-align: top;
                color: #616161;
            }
            
            table.betaTable {
                border-width: 1px;
                border-style: solid;
                border-color: #ccc;
                padding: 5px;
                vertical-align: top;
                margin: 5px;
                margin-bottom:15px;
                width : 90%;
                background-color: #FCD8B9;
            }
            
            td.betaTd {
                color: #484848;
                vertical-align: top;
                background-color: #FCD8B9;
            }
            #APISupportTable {
                display: none;
            }
        </style>
      
        <link rel="stylesheet" href="common.css" type="text/css" />
        <script src="server.js" type="text/javascript"></script>
    </head>
    
<!-- ============================== Body ============================ -->   
    <body><div class="scrollable" id="content">     
    
<!-- ============================== description ============================ -->
        <p>
            
                The Microphone object contains functions for recording audio from microphone.
            
        </p>
        
<!-- ============================== notice ============================ -->
        
    
        
        
<!-- ============================== Beta Tag ============================ -->
        
    
<!-- ============================== Learning Resources ============================ -->
        
        
<!-- ============================== Support Platforms ============================ -->
        
        
            
            
            
            
        
        
        
        
        
        
            <div class="title">Supported Platform(s)</div>      
            <table class="scriptTable">         
                <tr> 
                    <td class="scriptTd">
                        
                            - BlackBerry OS 5.0+<br/>
                        
                            - BlackBerry PlayBook<br/>
                        
                    </td> 
                </tr>
                <tr>
                    <td>
                        <div>- Supported Platform Table: <span id="codeExpand" onclick="codeClick('APISupportTable',this)";>Expand</span></div>
                        <div id="APISupportTable">
                            <table class="apiTable">
                                <tr>
                                    <th class="apiTh apiColumn">
                                       API
                                       
                                    </th>
                                    <th class="apiTh" >
                                       OS 5.0
                                       
                                    </th>
                                    <th class="apiTh" >
                                       OS 6.0
                                       
                                    </th>
						<th class="apiTh" >
                                       OS 7.0
                                       
                                    </th>
                                    <th class="apiTh" >
                                       PlayBook
                                       
                                    </th>
                                </tr>
                                
                                
                                    <tr x-ww-support="bb5.0|bb6.0|bb7.0">
                                        <td class="apiTd">
                                            <a href="blackberry.media.microphone.html#.getSupportedMediaTypes">blackberry.media.microphone.getSupportedMediaTypes</a>                               
                                            <td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiNo">&nbsp;</td>
                                        </td>
                                    </tr>                               
                                
                                    <tr x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                                        <td class="apiTd">
                                            <a href="blackberry.media.microphone.html#.pause">blackberry.media.microphone.pause</a>                               
                                            <td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
                                        </td>
                                    </tr>                               
                                
                                    <tr x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                                        <td class="apiTd">
                                            <a href="blackberry.media.microphone.html#.record">blackberry.media.microphone.record</a>                               
                                            <td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
                                        </td>
                                    </tr>                               
                                
                                    <tr x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                                        <td class="apiTd">
                                            <a href="blackberry.media.microphone.html#.stop">blackberry.media.microphone.stop</a>                               
                                            <td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
                                        </td>
                                    </tr>                               
                                
                            </table>
                        </div>
                    </td>
                </tr>           
            </table>
        
        
<!-- ============================== Configuration Settings  ============================ -->	
    <br/>
    <div class="title">Configuration Document Settings</div>
        To use <u>all</u> of the API described for this object, you must ensure the following settings are in your configuration document:      
    
    <table class="scriptTable">
        <tr>
            <th class="elemTh">Feature Elements</th>
        </tr>
        
            <tr><td class="scriptTd">
            You must declare the feature element(s) below in your configuration document:
            </td></tr>
            <br>
            <tr><td>
                <div id="FeatureIDSupportTable" style="display:inline;" >
                    <table class="apiTable">
                        <tr>
                            <th class="apiTh">
                               Feature ID
                               
                            </th>
                            <th class="apiTh" >
                               OS 5.0
                               
                            </th>
                            <th class="apiTh" >
                               OS 6.0
                               
                            </th>
				    <th class="apiTh" >
                               OS 7.0
                                       
                            </th>
                            <th class="apiTh" >
                               PlayBook
                               
                            </th>
                        </tr>
                        
                          
                            
                                
                            
                            <tr x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                                <td class="apiTd">
                                    &lt;feature id="blackberry.media.microphone" /&gt;                               
                                    <td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
<td class="apiTd apiYes">Y</td>
                                </td>
                            </tr>
                        
                    </table>
                 </div>
             </td></tr>       
        
    </table>
    
    <div x-ww-support="">
        <table class="scriptTable">
        <tr><th class="elemTh">Permission Elements (PlayBook Only)</th></tr>
        
            
            
            
            
                <tr><td class="scriptTd">
                You must declare the permission element(s) below in your configuration document:
                </td></tr><br>
                
                
                    <tr><td class="scriptTd">
                    - &lt;rim:permit&gt;record_audio&lt;/rim:permit&gt; Permits the app to record sound through the microphone without prompting the user.
                    <br>
                    </td></tr>
                
            
            
            
                <tr><td class="scriptTd">
                <br/>
                <i><b>Note:</b> Declaring the permission element(s) below in your configuration document is optional.</i></br>
                </td></tr><br>
            
                
                    <tr><td class="scriptTd">
                    - &lt;rim:permit&gt;access_shared&lt;/rim:permit&gt;  Any references to files/directories under "shared" folder (e.g. music) requires this permission to be set.
                    <br>
                    </td></tr>
                
            
        
        </table>
    </div>

<!-- ============================== Constructor Summary ========================= -->
        
    
<!-- ============================== Deprecation setup  ==================== -->
        
        
<!-- ============================== Function Summary  ==================== -->    
        
        
            
            <br/>
            <div x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                <h1>Functions</h1>
        
        
                  
                <ul class="ulNoTopMargin">          
                    
                        <li x-ww-support="bb5.0|bb6.0|bb7.0">
                            <a href="blackberry.media.microphone.html#.getSupportedMediaTypes">blackberry.media.microphone.getSupportedMediaTypes</a>
                            
                        </li>               
                    
                        <li x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                            <a href="blackberry.media.microphone.html#.pause">blackberry.media.microphone.pause</a>
                            
                        </li>               
                    
                        <li x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                            <a href="blackberry.media.microphone.html#.record">blackberry.media.microphone.record</a>
                            
                        </li>               
                    
                        <li x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                            <a href="blackberry.media.microphone.html#.stop">blackberry.media.microphone.stop</a>
                            
                        </li>               
                    
                </ul>   
       
    
    <!-- ============================== Inherited Functions Summary  ==================== -->   
        
        
        
            </div>
                   
        
<!-- ============================== events summary ======================== -->
        
        
        
        
        
        
<!-- ============================== Inherited Event Summary  ==================== -->   
        
        
        
<!-- ============================== Properties summary ===================== -->
        
        
        
        
        
<!-- ============================== Inherited Properties Summary  ==================== -->  
        
        
           
<!-- ============================== Constants summary ===================== -->
        
        
        
        
        
    
<!-- ============================== Inherited Constants Summary  ==================== -->   
        
        
        
<!-- ============================== URI Summary  ==================== -->           
        
        
        
        
               
    
<!-- ============================== Inherited URI Summary  ==================== --> 
        
        
        
        
<!-- ============================== Deprecation Notice  ==================== -->
           
        
<!-- ============================== Constructor Details ========================= -->
        
<!-- ============================== Function details ========================= -->      
        
            
                <div x-ww-support="bb5.0|bb6.0|bb7.0">
                    <h2><a name=".getSupportedMediaTypes"></a>
                        blackberry.media.microphone.getSupportedMediaTypes
                    </h2>
                    <hr style="margin-bottom: 15px;"/>
                    
                    <table class="scriptTable">
                        <tr>
                            <td class="scriptTd">
                                static              
                                String[]
                                
                                    getSupportedMediaTypes()
                                                           
                            </td>
                        </tr>
                    </table>
                    <br/>
                    
                               
                    
                                  
                        <div class="title">Supported Platform(s)</div>      
                        
                            &nbsp;- BlackBerry OS 5.0+<br/>
                                      
                                       
                    <br/>
                    
                    <div class="title">Description</div>
                    &nbsp;Return the mime types that the record method supports<br/><br/>Sample values: &quot;audio/amr&quot;, &quot;audio/wav&quot;
                    
                    
                        <br/><br/>
                        <div class="title">Returns</div>
                        
                            
                        
                    
                    
                                       
                    
                    
                                
                    
                        <br/>
                        <div class="title">Code Example(s)</div>
                        
                            <table class="scriptTable">             
                                <tr><td class="scriptTd">
                                    <pre>function printSupportedTypes() {        var types = blackberry.media.microphone.getSupportedMediaTypes();        var alertMsg = "";        for(var i = 0; i < types.length; i++) {            alertMsg += types[i] + " ";        }        alert(alertMsg);}</pre>
                                </td></tr>              
                            </table>
                        
                    
                </div>
            
                <div x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                    <h2><a name=".pause"></a>
                        blackberry.media.microphone.pause
                    </h2>
                    <hr style="margin-bottom: 15px;"/>
                    
                    <table class="scriptTable">
                        <tr>
                            <td class="scriptTd">
                                static              
                                void
                                
                                    pause()
                                                           
                            </td>
                        </tr>
                    </table>
                    <br/>
                    
                               
                    
                                  
                        <div class="title">Supported Platform(s)</div>      
                        
                            &nbsp;- BlackBerry OS 5.0+<br/>
                        
                            &nbsp;- BlackBerry PlayBook<br/>
                                      
                                       
                    <br/>
                    
                    <div class="title">Description</div>
                    &nbsp;Pauses/resumes recording.<br><br>If the microphone is in recording mode, calling pause() would cause recording topause. If the microphone is paused, calling pause() would cause recording to resume.<br><br>
                    
                    
                        <br/><br/>
                        <div class="title">Returns</div>
                        
                            
                        
                    
                    
                                       
                    
                    
                                
                    
                </div>
            
                <div x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                    <h2><a name=".record"></a>
                        blackberry.media.microphone.record
                    </h2>
                    <hr style="margin-bottom: 15px;"/>
                    
                    <table class="scriptTable">
                        <tr>
                            <td class="scriptTd">
                                static              
                                void
                                
                                    record(filePath : String, onCaptured : function, onError : function)
                                                           
                            </td>
                        </tr>
                    </table>
                    <br/>
                    
                               
                    
                                  
                        <div class="title">Supported Platform(s)</div>      
                        
                            &nbsp;- BlackBerry OS 5.0+<br/>
                        
                            &nbsp;- BlackBerry PlayBook<br/>
                                      
                                       
                    <br/>
                    
                    <div class="title">Description</div>
                    &nbsp;Records audio from the microphone.<br><br>If the specified format is not supported on the device, an error is passed to the onError callback with the message &quot;Unsupported record encoding type&quot;.The supported recording formats are:<table class="confluenceTable"><tr><th class="confluenceTh">&nbsp;</th><th class="confluenceTh"><strong>PlayBook</th><th class="confluenceTh">BB OS 5.0, 6.0 (GSM)</th><th class="confluenceTh">BB OS 5.0, 6.0 (CDMA)</th><th class="confluenceTh">BB OS 7.0</th><tr><th class="confluenceTh">Supported Formats:</th><td class="confluenceTd">WAV</td><td class="confluenceTd">WAV, AMR</td><td class="confluenceTd">AMR</td><td class="confluenceTd">WAV, AMR</td></tr><tr><th class="confluenceTh">Bit Depth:</th><td class="confluenceTd">16</td><td class="confluenceTd">16</td><td class="confluenceTd">16</td><td class="confluenceTd">16</td></tr><tr><th class="confluenceTh">Sampling Rate:</th><td class="confluenceTd">44,100Hz</td><td class="confluenceTd">8,000Hz</td><td class="confluenceTd">8,000Hz</td><td class="confluenceTd">8,000Hz</td></tr><tr><th class="confluenceTh">Channels:</th><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">1</td></tr></table>
                    
                    
                        <br/><br/>
                        <div class="title">Returns</div>
                        
                            
                        
                    
                    
                    
                        <br/><br/>
                        <table class="confluenceTable">
                            <tr>
                                <th class="confluenceTh">
                                   Parameter
                                   
                                </th>
                                <th class="confluenceTh">
                                   Type
                                   
                                </th>
                                <th class="confluenceTh">
                                   Description
                                   
                                </th>
                            </tr>
                                           
                            
                                
                                <tr>
                                    <td class="confluenceTd"><b>filePath</b></td>
                                    <td class="confluenceTd">
                                        
                                            String
                                        
                                                                                            
                                    </td>
                                    <td class="confluenceTd">
                                        
                                        full path to the file, specified in the form of file:// URL                         
                                        
                                    </td>
                                </tr>
                            
                                
                                <tr>
                                    <td class="confluenceTd"><b>onCaptured</b></td>
                                    <td class="confluenceTd">
                                        
                                            function(filePath : String)
                                        
                                                                                            
                                    </td>
                                    <td class="confluenceTd">
                                        
                                        This callback function is called when the application has successfully recorded the audio and saved it to the requested file.                         
                                        
                                            <br/>
                                            
                                                <br/>
                                                <b>filePath:</b> The file path that points to the created audio file.
                                            
                                        
                                    </td>
                                </tr>
                            
                                
                                <tr>
                                    <td class="confluenceTd"><b>onError</b></td>
                                    <td class="confluenceTd">
                                        
                                            function(errorCode : Number, errorMsg : String)
                                        
                                                                                            
                                    </td>
                                    <td class="confluenceTd">
                                        
                                        This callback function is called if the recording has failed.                         
                                        
                                            <br/>
                                            
                                                <br/>
                                                <b>errorCode:</b> The error code for the error.
                                            
                                                <br/>
                                                <b>errorMsg:</b> The error message for the error.
                                            
                                        
                                    </td>
                                </tr>
                                          
                        </table>
                                       
                    
                    
                                
                    
                </div>
            
                <div x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                    <h2><a name=".stop"></a>
                        blackberry.media.microphone.stop
                    </h2>
                    <hr style="margin-bottom: 15px;"/>
                    
                    <table class="scriptTable">
                        <tr>
                            <td class="scriptTd">
                                static              
                                void
                                
                                    stop()
                                                           
                            </td>
                        </tr>
                    </table>
                    <br/>
                    
                               
                    
                                  
                        <div class="title">Supported Platform(s)</div>      
                        
                            &nbsp;- BlackBerry OS 5.0+<br/>
                        
                            &nbsp;- BlackBerry PlayBook<br/>
                                      
                                       
                    <br/>
                    
                    <div class="title">Description</div>
                    &nbsp;Stops recording, this causes the recorded audio data to be saved to the file. The onCaptured callback function passed in record will beinvoked when the audio file has been saved to disk.
                    
                    
                        <br/><br/>
                        <div class="title">Returns</div>
                        
                            
                        
                    
                    
                                       
                    
                    
                                
                    
                </div>
            
        
                
<!-- ============================== Event details ========================= -->     
        
<!-- ============================== properties details ========================== -->       
        
        
<!-- ============================== constant details ========================== -->     
        
    
<!-- ============================== URI  ==================== -->           
             
                   
        
        
        
            <div x-ww-support="bb5.0|bb6.0|bb7.0|pb1.0|common">
                <h2><a name=".microphone"> </a>Code Example(s)</h2>
                <hr style="margin-bottom: 15px;"/>
                
                    <table class="scriptTable">             
                        <tr><td class="scriptTd">
                            <pre>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css"/&gt;&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"&gt;&lt;/script&gt;&lt;script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt;var mic = blackberry.media.microphone;var isPaused = false;function record() {  try {    // NOTE: access to shared folder requires "access_shared" permission on config.xml    mic.record(blackberry.io.dir.appDirs.shared.music.path + '/' + document.getElementById('filename').value, testSuccess, testError);    $("#record").button("option", "disabled", true);    $("#pause").button("option", "disabled", false);    $("#stop").button("option", "disabled", false);  } catch (e) {    alert('Record, e:' + e.message);  }}function pause() {  isPaused = !isPaused;  if (isPaused) {    $("#pause").button("option", "label", "Resume");  } else {    $("#pause").button("option", "label", "Pause");  }  try {    mic.pause();  } catch (e) {    alert('Pause, e:' + e.message);  }}function stop() {  try {    mic.stop();    $("#record").button("option", "disabled", false);    $("#pause").button("option", "disabled", true);    $("#stop").button("option", "disabled", true);  } catch (e) {    alert('Stop, e:' + e.message);  }}function testSuccess(filePath) {  alert("Recorded successfully! File: " + filePath);}function testError(errorCode, errorMessage) {    if(errorMessage == "Unsupported record encoding type") {        alert("try recording an .amr audio file");        return;    }  alert('error code:' + errorCode + ' error message:' + errorMessage);}&lt;/script&gt;&lt;script type="text/javascript"&gt;$(document).ready(function() {  $("#record").button();  $("#pause").button({ disabled: true });  $("#stop").button({ disabled: true });  $("#record").bind("click", record);  $("#pause").bind("click", pause);  $("#stop").bind("click", stop);});&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;File Name:&nbsp;&lt;input type="text" id="filename"&gt;&lt;/p&gt;&lt;button id="record"&gt;Record&lt;/button&gt;&nbsp;&nbsp;&lt;button id="pause"&gt;Pause&lt;/button&gt;&nbsp;&nbsp;&lt;button id="stop"&gt;Stop&lt;/button&gt;&lt;/body&gt;&lt;/html&gt;</pre>
                        </td></tr>              
                    </table>
                
            </div>
        
        
                    
<!-- ============================== footer ================================= -->
        <hr style="margin-bottom: 15px;"/>
        <div class="fineprint" style="clear: both">
            
            Documentation generated by <a href="http://code.google.com/p/jsdoc-toolkit/" target="_blank">JsDoc Toolkit</a> 2.4.0 on Fri Feb 24 2012 09:29:25 GMT-0500 (EST)
        </div>
        
    </div></body>
</html>
